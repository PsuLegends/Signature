#!/bin/bash

# Порт, который нужно освободить
PORT=33333

# Находим PID процесса, который использует данный порт
PID=$(lsof -t -i:$PORT)

if [ -z "$PID" ]; then
    echo "Порт $PORT уже свободен."
    exit 0
fi

# Завершаем процесс, который использует порт
echo "Порт $PORT занят процессом с PID: $PID. Завершаем процесс..."
kill -9 $PID

# Проверяем, что порт теперь свободен
sleep 1  # Немного ждем, чтобы убедиться, что процесс завершился
PID=$(lsof -t -i:$PORT)

if [ -z "$PID" ]; then
    echo "Порт $PORT успешно освобожден."
else
    echo "Не удалось освободить порт $PORT."
fi
